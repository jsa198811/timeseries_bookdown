[["index.html", "Series de Tiempo Capítulo 1 Tema de Interés", " Series de Tiempo Jefferson Sanchez 2023-05-02 Capítulo 1 Tema de Interés Uno de los primeros compromisos del curso consistió en elegir un tema de interés. En mi caso, elegí analizar los casos de dengue grave que se han presentado en la ciudad de Cali en el período 2015-2022, según los registros oficiales suministrados por la Secretaría de Salud Pública Municipal. La motivación principal de esta selección es que permitiría integrar los aprendizajes de este curso en los análisis que estoy realizando, junto a mis compañeros, en el marco del trabajo de grado de la Maestía en Ciencia de Datos. Según los hallazgos preliminares que hemos realizado, los casos de dengue grave en Cali podrían ser explicados y quizá predichos, a través de un conjunto de variables de interés que pueden obtenerse de fuentes informales. En general, este problema es relevante porque le permitiría a los responsables del sistema de salud municipal asegurar la asignación oportuna de recursos para atender de forma oportuna y eficaz los brotes de dengue grave en la ciudad. Desde la perspectiva técnica, el conjunto de datos de trabajo que hemos construido, el cual incluye variables meteorológicas, consta de información estructurada en el tiempo, y habilitaría la experimentación con todos los referentes técnicos y herramientas que se nos suministre en el desarrollo de la asignatura Análisis de Series de Tiempo. El efecto de sinergia es evidente, especialmente al considerar que hemos realizado un ejercicio de entendimiento del problema y exploración de dinámicas alrededor del mismo durante los últimos dos semestres. "],["análisis-exploratorio-inicial.html", "Capítulo 2 Análisis Exploratorio Inicial 2.1 Primeras impresiones 2.2 Visualización inicial 2.3 Promedio Móvil 2.4 Análisis de rezagos 2.5 Comporamiento mensual 2.6 Operador diferencia 2.7 Conclusión preliminar", " Capítulo 2 Análisis Exploratorio Inicial 2.1 Primeras impresiones El primer paso consiste en realizar la ingesta de datos y realizar una inspección de una muestra de los registros. Rows: 84 Columns: 2 $ date &lt;date&gt; 2015-01-31, 2015-02-28, 2015-03-31, 2015-04-30, 2015-05-31, 2015… $ c220 &lt;dbl&gt; 15, 5, 6, 3, 6, 5, 11, 9, 4, 6, 6, 6, 29, 31, 15, 16, 10, 16, 12,… La base de datos consta de 84 registros e incluye dos variables: la primera es la fecha del último día del mes del registro; y la segunda es la cantidad acumulada de casos de dengue grave durante ese mes. La primera variable se reconoce como tipo fecha, mediante una manipulación inicial; y la segunda es una variable numérica. Como parte del proceso de exploración se validaron los siguientes elementos: Primero, se trata efectivamente de un objeto de la clase serie de tiempo. [1] &quot;ts&quot; Segundo, el primer registro corresponde a enero del 2015. [1] 2015 1 Y tercero, el último dato de la serie de tiempo corresponde a diciembre del 2022. [1] 2021 12 Un breve resumen permite identificar que el valor máximo de casos de dengue grave (DG) en Cali durante el periodo de análisis es de 39 episodios en un mes, mientras que el valor mínimo es cero. c220 Min. : 0.000 1st Qu.: 1.000 Median : 5.000 Mean : 6.821 3rd Qu.:10.000 Max. :39.000 Además, la mitad de los meses bajo análisis tiene hasta cinco contagios, aunque se presentan en promedio unos siete casos de dengue grave por mes. Esto indicaría que la distribución de los casos está sesgada hacia la derecha, y que hay unos valores altos que afectan la media. 2.2 Visualización inicial A continuación se presenta la gráfica de la variable de interés, los casos de Dengue Grave (DG), representando su evolución en el tiempo. En la gráfica se destacan dos picos importantes, uno en 2016 y el otro en 2020. Además, la mayoría de los registros son valores relativamente pequeños. Con todo, la primera impresión no da cuenta de alguna tendencia ascendente o descendente, y tampoco de un algun patrón estrictamente repetitivo a lo largo del tiempo. A continuación se observa la raiz cuadrada de los valores de la serie para intentar facilitar la identificación de patrones de variación. A partir de este punto, esta transformación será la base de incorporación de los otros recursos. A pesar de que ayuda a estabilizar la varianza, esta aproximación todavía no revela patrones o tendencias evidentes. 2.3 Promedio Móvil También se utilizó el Promedio Móvil para aproximarse a la serie de tiempo, eliminando algo del ruido de la misma para hacer más clara la tendencia. En este caso, se decidió hacer un experimento con dos opciones, relacionadas con el número de meses que valdría la pena tener en cuenta para determinar el valor representativo del periodo vigente. La primera opción consistió en calcular un promedio móvil de doce meses, la cual se presenta en la línea de color negro; y la segunda opción, utilizando los tres meses pasados, y se ilustra en la línea de color púrpura. La línea en color gris son los casos reales de dengue grave. El comportamiento de las dos opciones evaluadas puede ser útil, sin embargo, se observa un mayor ajuste de parte de la línea púrpura, lo que sugeriría que esa podría ser una ventana de tiempo más conveniente para gestionar a un pico de contagio de DG, ya que responde de forma más eficaz al cambio de la serie. 2.4 Análisis de rezagos También se realizó un análisis de rezagos para determinar relaciones y patrones entre los valores vigentes y pasados de la serie de tiempo. El primer recurso que se empleó para el desarrollo de este análisis fue el siguiente conjunto de gráficos de dispersión, los cuales corresponden a la serie y sus desplazamientos hacia atrás en el tiempo. En cada gráfico se incluyen el Coeficiente de Correlación de Pearson. Se observa una relación positiva en todos desplazamientos, sin embargo, se trata de una relación moderada que tiene su valor más alto en el primer desplazamiento y se debilita con cada nuevo periodo añadido. Además, no se identifican comporamientos que se repitan en determinados periodos. En cualquier caso, dado que uno de los primeros hallazgos del análisis exploratorio fue evidenciar la existencia de dos picos separados por alrededor de 4 años, se utilizó un segundo recurso para el análsis de rezagos. Esta vez, se propuso emplear una función para evaluar la autocorrelación que puede ser útil para periodos más extensos, como se observa a continación. La gráfica anterior presenta los valores de autocorrelación de hasta 60 meses y confirma lo indicado en el punto anterior, esto es, que pese a las posibles impresiones generadas, la relación entre valores vigentes y pasados de la serie no es tan prometedora y pareciera que sólo aportaría valor en los periodos transcurridos recientemente. 2.5 Comporamiento mensual Otro recurso empleado consiste en el análisis de tendencias agregando los datos por mes de ocurrencia, como se observa en seguida. Este gráfico presenta una visión de la distribución de los datos por mes y es el primero que pareciera evidenciar que hay una cierta estacionalidad oculta en la serie. Aunque es una idea todavía por validar a través de otros recursos, pareciera que los primeros meses del año podrían ser de especial atención, ya que por la forma de los violines, dichos meses tendrían reiterativamente los registros más altos en términos de número de episodios de dengue grave. 2.6 Operador diferencia También se decidió representar la serie a través del operador diferencia, con la intención de tener diferentes perspectiva que permitieran reconocer su estructura. En este caso, se utilizó un rezago de 12 meses. Hasta cierto punto, la gráfica pareciera sugerir un ciclo que abarca varios años, y si ese fuera el caso, podría dificultar la validación del análisis por la disponibilidad de los datos. 2.7 Conclusión preliminar Considerando los recursos utilizados hasta este momento podría decirse que no resulta tan fácil clasificar los Casos de Dengue Grave en Cali del periodo 2015-2022 como una serie con un patrón estacional, sobre todo porque no se observa un compormiento cíclico tan evidente. No obstante, persisten algunos indicios que sugerirían que vale la pena complementar el análisis para llegar a una conclusión con mayor contundencia. "],["cross.html", "Capítulo 3 Evaluación de Estacionalidad 3.1 ADF test 3.2 Funciones ACF y PACF 3.3 Modelo ARIMA 3.4 Puntos de cambio 3.5 Predicción 3.6 Validación 3.7 Supuestos de una ARIMA", " Capítulo 3 Evaluación de Estacionalidad 3.1 ADF test Se utiliza la prueba de Dickey-Fuller Aumentado (ADF) para obtener una estadística que permita confirmar o descartar la estacionalidad de la serie Casos de Dengue Grave en Cali. 3.1.1 Evaluación inicial Augmented Dickey-Fuller Test data: c220.ts Dickey-Fuller = -2.2133, Lag order = 4, p-value = 0.4884 alternative hypothesis: stationary Dado que el valor de probabilidad obtenido es mayor que el nivel de significancia elegido, que en este caso es 0.05, entonces no se puede rechazar la hipótesis nula de la prueba, y se concluye que no hay evidencia suficiente para afirmar que la serie de tiempo es estacionaria. 3.1.2 Evaluación después de transformar la TS En la búsqueda de opciones de representación se había empleado el Operador Diferencia, y dado que pareciera tener algún potencial para configurar una dinámica que visibilice ciclos periódicos, se realizó un proceso itetarivo que condujo a identificar que si se utiliza un rezago de 1 periodo, entonces, la prueba ADF generaría un resultado distinto al obtenido en la sección anterior. Augmented Dickey-Fuller Test data: c220i.ts Dickey-Fuller = -4.5358, Lag order = 4, p-value = 0.01 alternative hypothesis: stationary En este caso el valor de probabilidad obtenido es menor que el nivel de significancia, entonces se rechaza la hipótesis nula y se concluye que la serie de tiempo transformada con el operador diferencia es estacionaria, porque su media y variana son constantes a lo largo del tiempo. 3.2 Funciones ACF y PACF 3.2.1 ACF 3.2.2 PACF Don&#39;t know how to automatically pick scale for object of type &lt;ts&gt;. Defaulting to continuous. Warning: Removed 24 rows containing missing values (`geom_line()`). Don&#39;t know how to automatically pick scale for object of type &lt;ts&gt;. Defaulting to continuous. Warning: Removed 24 rows containing missing values (`geom_line()`). 3.3 Modelo ARIMA A continuación se aplica la función auto.arima para encontrar un modelo de ajuste eficiente. Attaching package: &#39;forecast&#39; The following object is masked from &#39;package:ggpubr&#39;: gghistogram Series: c220i.ts ARIMA(0,0,1) with zero mean Coefficients: ma1 -0.4124 s.e. 0.0993 sigma^2 = 0.9335: log likelihood = -114.51 AIC=233.02 AICc=233.17 BIC=237.85 Training set error measures: ME RMSE MAE MPE MAPE MASE ACF1 Training set -0.02942845 0.96036 0.74593 NaN Inf 0.6448007 -0.009342725 3.4 Puntos de cambio Successfully loaded changepoint package version 2.2.4 See NEWS for details of changes. Created Using changepoint version 2.2.4 Changepoint type : Change in mean Method of analysis : AMOC Test Statistic : Normal Type of penalty : MBIC with value, 13.25652 Minimum Segment Length : 1 Maximum no. of cpts : 1 Changepoint Locations : 3.5 Predicción 3.6 Validación 3.7 Supuestos de una ARIMA 3.7.1 Media cero de los residuos One Sample t-test data: mr t = -0.27762, df = 82, p-value = 0.782 alternative hypothesis: true mean is not equal to 0 95 percent confidence interval: -0.2403046 0.1814477 sample estimates: mean of x -0.02942845 3.7.2 Independencia de los residuos [1] 0.9309423 3.7.3 Distribución Shapiro-Wilk normality test data: mr W = 0.97452, p-value = 0.09793 Loading required package: carData Attaching package: &#39;car&#39; The following object is masked from &#39;package:purrr&#39;: some The following object is masked from &#39;package:dplyr&#39;: recode [1] 56 12 Loading required package: MASS Attaching package: &#39;MASS&#39; The following object is masked from &#39;package:dplyr&#39;: select Loading required package: survival NOTE: Packages &#39;fBasics&#39;, &#39;timeDate&#39;, and &#39;timeSeries&#39; are no longer attached to the search() path when &#39;fGarch&#39; is attached. If needed attach them yourself in your R script by e.g., require(&quot;timeSeries&quot;) Loading required package: timeSeries Loading required package: timeDate Attaching package: &#39;timeDate&#39; The following objects are masked from &#39;package:moments&#39;: kurtosis, skewness Attaching package: &#39;timeSeries&#39; The following object is masked from &#39;package:zoo&#39;: time&lt;- Min. 1st Qu. Median Mean 3rd Qu. Max. -2.65706 -0.73780 -0.06395 -0.02943 0.53559 3.02664 [1] 0.4920221 attr(,&quot;method&quot;) [1] &quot;moment&quot; [1] 1.012301 attr(,&quot;method&quot;) [1] &quot;excess&quot; $par mean sd nu -0.06375018 0.96022002 7.97369416 $objective [1] 113.1248 $convergence [1] 0 $iterations [1] 45 $evaluations function gradient 51 149 $message [1] &quot;relative convergence (4)&quot; [1] 83 "],["parts.html", "Capítulo 4 Parts", " Capítulo 4 Parts You can add parts to organize one or more book chapters together. Parts can be inserted at the top of an .Rmd file, before the first-level chapter heading in that same file. Add a numbered part: # (PART) Act one {-} (followed by # A chapter) Add an unnumbered part: # (PART\\*) Act one {-} (followed by # A chapter) Add an appendix as a special kind of un-numbered part: # (APPENDIX) Other stuff {-} (followed by # A chapter). Chapters in an appendix are prepended with letters instead of numbers. "],["footnotes-and-citations.html", "Capítulo 5 Footnotes and citations 5.1 Footnotes 5.2 Citations", " Capítulo 5 Footnotes and citations 5.1 Footnotes Footnotes are put inside the square brackets after a caret ^[]. Like this one 1. 5.2 Citations Reference items in your bibliography file(s) using @key. For example, we are using the bookdown package (Xie 2023) (check out the last code chunk in index.Rmd to see how this citation key was added) in this sample book, which was built on top of R Markdown and knitr (Xie 2015) (this citation was added manually in an external file book.bib). Note that the .bib files need to be listed in the index.Rmd with the YAML bibliography key. The RStudio Visual Markdown Editor can also make it easier to insert citations: https://rstudio.github.io/visual-markdown-editing/#/citations References "],["blocks.html", "Capítulo 6 Blocks 6.1 Equations 6.2 Theorems and proofs 6.3 Callout blocks", " Capítulo 6 Blocks 6.1 Equations Here is an equation. \\[\\begin{equation} f\\left(k\\right) = \\binom{n}{k} p^k\\left(1-p\\right)^{n-k} \\tag{6.1} \\end{equation}\\] You may refer to using \\@ref(eq:binom), like see Equation (6.1). 6.2 Theorems and proofs Labeled theorems can be referenced in text using \\@ref(thm:tri), for example, check out this smart theorem 6.1. Theorem 6.1 For a right triangle, if \\(c\\) denotes the length of the hypotenuse and \\(a\\) and \\(b\\) denote the lengths of the other two sides, we have \\[a^2 + b^2 = c^2\\] Read more here https://bookdown.org/yihui/bookdown/markdown-extensions-by-bookdown.html. 6.3 Callout blocks The R Markdown Cookbook provides more help on how to use custom blocks to design your own callouts: https://bookdown.org/yihui/rmarkdown-cookbook/custom-blocks.html "],["sharing-your-book.html", "Capítulo 7 Sharing your book 7.1 Publishing 7.2 404 pages 7.3 Metadata for sharing", " Capítulo 7 Sharing your book 7.1 Publishing HTML books can be published online, see: https://bookdown.org/yihui/bookdown/publishing.html 7.2 404 pages By default, users will be directed to a 404 page if they try to access a webpage that cannot be found. If you’d like to customize your 404 page instead of using the default, you may add either a _404.Rmd or _404.md file to your project root and use code and/or Markdown syntax. 7.3 Metadata for sharing Bookdown HTML books will provide HTML metadata for social sharing on platforms like Twitter, Facebook, and LinkedIn, using information you provide in the index.Rmd YAML. To setup, set the url for your book and the path to your cover-image file. Your book’s title and description are also used. This gitbook uses the same social sharing data across all chapters in your book- all links shared will look the same. Specify your book’s source repository on GitHub using the edit key under the configuration options in the _output.yml file, which allows users to suggest an edit by linking to a chapter’s source file. Read more about the features of this output format here: https://pkgs.rstudio.com/bookdown/reference/gitbook.html Or use: "],["references.html", "References", " References "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
